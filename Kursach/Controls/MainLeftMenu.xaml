<UserControl 
    x:Class="Kursach.Controls.MainLeftMenu"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:converters="clr-namespace:Kursach.Converters">

    <UserControl.Resources>
        <converters:UserModeToVisibility x:Key="UserModeToVisibility"/>

        <Style TargetType="Button" BasedOn="{StaticResource FlatButton}">
            <Setter Property="Margin" Value="0"/>
        </Style>
    </UserControl.Resources>

    <StackPanel Width="250">
        <materialDesign:ColorZone Mode="PrimaryDark">
            <TextBlock Text="{Binding User.Login, StringFormat='Добро пожаловать, {0}!'}"
                       TextWrapping="Wrap"
                       Margin="5"/>
        </materialDesign:ColorZone>

        <Button Content="Группы"
                Command="{Binding GroupsCommand}"/>

        <Button Content="Регистрация пользователей"
                Command="{Binding SignUpCommand}"
                Visibility="{Binding User.Mode, Converter={StaticResource UserModeToVisibility}}"/>

        <Button Content="База пользователей"
                Command="{Binding OpenUsersCommand}"
                Visibility="{Binding User.Mode, Converter={StaticResource UserModeToVisibility}}"/>

        <Button Content="Выйти"
                Command="{Binding ExitCommand}"/>
    </StackPanel>

</UserControl>
